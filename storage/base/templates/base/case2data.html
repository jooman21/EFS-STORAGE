{% extends 'index.html' %}
{% load static %}
{% block content %}
{% if user.is_authenticated and user.is_superuser %}
<style>
  .enav{
    margin-left: 140px;
  }
  .table-statics{
    margin: 2vh 0 0 -2.5vw;
  }
  .card-statics{
    margin: 6vh 0 0 -3.5vw;
  }

  @media screen and (min-width: 768px) and (max-width: 967px){
    .eventTime{
      display: none;
    }
  }
  @media screen and (min-width: 768px) and (max-width: 1023px) {
  
    .AccidentType{
      display: none;
    }
    .enav{
      margin-left: 160px;
    }
    .card-statics{
      margin: 5vh 1vw 0 5vw ;
      width: 130px;
    }
    .cards{
      position: relative;
      margin: -2vh;
      width: 130px;
    }
    .card-statics .card{
      height: 16vh;
      width: 12vw;
    }
    .card-title{
      margin-left: 15px;
      font-size: 16px;
    }
  
    .table-statics{
      margin: 3vh 0 0 -4vw ;
     
    }
    .total_regions{ 
      position: relative;
     
    }
    .total_regions td{
    padding: 0px;
  }
  }
  
  @media screen and (min-width: 1024px) and (max-width: 1190px){
    .AccidentType{
      display: none;
    }
  }
  
  @media screen and (min-width: 1024px) and (max-width: 1365px){
    
    .enav{
      margin-left: 160px;
    }
    .table-statics{
      margin-left: 1vh ;
      max-width: 20vw;
    }
    .total_regions{ 
      position: relative;
      width: 70vw;
    }
    .total_regions td{
    padding: 0px;
  }
  
    .card-title{
      margin-left: 6px;
      font-size: 18px;
    }
    .card-statics{
      margin: 7vh -2vw 0 -1.5vw;
    }
    .card-statics .card{
      height: 18vh;
  
    }
  
  }
   
  @media screen and (min-width: 1366px) {
  .table-statics{
    margin: -1vh 0 0 -1vw;
  } 
  .card-statics{
    margin: 6vh 0 0 1vw;
  }
  }
</style>
<section>
  <div class="enav">
    {% include 'Enav.html' %}
  </div>

  <div class="card-statics">
    <div class="cards">
    
      <div class="card ">
        <div class="icon-case">
          <span class="fa-solid fa-car-burst"></span>
        </div>
        <div class="box">
          <h5 class="card-title">Vehicle Event's</h5>
          <h5 class="card-title" style="text-align: center;">{{vehdetail}}</h5>
        </div>
      </div>
      
      <div class="card">
        <div class="icon-case">
          <span class="fa-solid fa-person-falling-burst"></span>
        </div>
        <div class="box">
          <h5 class="card-title">Murder Event's</h5>
          <h5 class="card-title" style="text-align: center;">{{murdetail}}</h5>
        </div>
      </div> 
      
      <div class="card">
        <div class="icon-case">
          <span class="fa-solid fa-person-running"></span>
        </div>
        <div class="box">
          <h5 class="card-title">Theft Event's</h5>
          <h5 class="card-title" style="text-align: center;">{{thfdetail}}</h5>
        </div>
      </div> 
      
      <div class="card">
        <div class="icon-case">
          <span class="fa-solid fa-check"></span>
        </div>
        <div class="box">
          <h5 class="card-title">Total Events</h5>
          <h5 class="card-title"style="text-align: center;">{{total_per_region}}</h5>
        </div>
      </div> 
      
      <div class="card">
        <div class="icon-case">
          <span class="fa-solid fa-check"></span>
        </div>
        <div class="box">
          <h5 class="card-title">Total Accounts</h5>
          <h5 class="card-title"style="text-align: center;">{{total_user_reg}}</h5>
        </div>
      </div>
    </div>
  </div>
  
  <div class="table-statics">
    <div class="total_regions">
      
      <div class="title">
        <h2>Total of {{thfdetail}} Theft Event's</h2>
      </div>

      <table>
        <tr>
          <th class="AccidentType">Accident Type</th>
          <th>Upload By</th>
          <th>Event Time</th>
          <th>Upload Time</th>
          <th>View</th>
          <th>{% if request.user.is_superuser == "FALSE" %}  Delete {% endif %}</th>
        </tr>
        <tr>
          {% for thevids in theft_reg_list %}
          
            <td class="AccidentType"><small>{{thevids.incident}}</small></td>
            <td>{{thevids.uploaded_by}}</td>
            <td>{{thevids.created}}</td>
            <td>{{thevids.upload}}</td>
            <td><a href="{% url 'TMdetail' thevids.id %}"><button class="btn-solid-sm" >View</button</a></th> 
            <td>{% if request.user.is_superuser == "FALSE" %}  <a href="{% url 'deleteCase2' thevids.id %}"><button class="btn-solid-sm" >Delete</button</a> {% endif %}</th>
        </tr>
        {% endfor %}
      </table>

      <div class="pagination">
        <strong>
          {% if theft_reg_list.has_previous %}
            <a href="?page-1=" class="btn btn-primary active"> <span class="fa-solid fa-arrow-left"></span></a>
            <a href="?page={{theft_reg_list.previous_page_number }}" class="btn btn-primary">Previous</a>
          {% endif %}
          <h5>{{theft_reg_list }}</h5>
          {% if theft_reg_list.has_next %}
            <a href="?page={{theft_reg_list.next_page_number }}" class="btn btn-primary">Next</a>
            <a href="?page={{theft_reg_list.paginator.num_pages }}" class="btn btn-primary active"> <span class="fa-solid fa-arrow-right"></span></a>
          {% endif %}
        </strong>
      </div>
    </div>
  </div>
</section>    
{% endif %}
{% endblock content %}